<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="UTF-8">
  <title>עיצוב העסק</title>
  <style>
    body {
      background-color: {{ design_settings.body_background_color }};
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    h1 { color: {{ design_settings.heading_color }}; font-size: {{ design_settings.heading_font_size }}; font-family: {{ design_settings.heading_font_family }}; }
    h2 { color: {{ design_settings.subheading_color }}; font-size: {{ design_settings.subheading_font_size }}; font-family: {{ design_settings.subheading_font_family }}; }

    /* כפתורי ימים */
    .day-button {
      border-radius: {{ design_settings.day_button_shape }};
      background: {{ design_settings.day_button_color }};
      font-size: {{ design_settings.day_button_text_size }};
      color: {{ design_settings.day_button_text_color }};
      font-family: {{ design_settings.day_button_font_family }};
      padding: 8px 14px;
      margin: 5px;
      border: none;
      cursor: pointer;
    }

    /* כפתורי שעות */
    .slot-button {
      border-radius: {{ design_settings.slot_button_shape }};
      background: {{ design_settings.slot_button_color }};
      font-size: {{ design_settings.slot_button_text_size }};
      color: {{ design_settings.slot_button_text_color }};
      font-family: {{ design_settings.slot_button_font_family }};
      padding: 8px 12px;
      margin: 4px;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>{{ design_settings.heading_text }}</h1>
  <h2>{{ design_settings.subheading_text }}</h2>

  <h3>כפתורי ימים</h3>
  <div id="days">
    <button class="day-button">ראשון</button>
    <button class="day-button">שני</button>
    <button class="day-button">שלישי</button>
    <button class="day-button">רביעי</button>
    <button class="day-button">חמישי</button>
    <button class="day-button">שישי</button>
    <button class="day-button">שבת</button>
  </div>

  <h3>כפתורי שעות</h3>
  <div id="slots">
    <button class="slot-button">08:00</button>
    <button class="slot-button">08:30</button>
    <button class="slot-button">09:00</button>
    <button class="slot-button">09:30</button>
    <button class="slot-button">10:00</button>
  </div>

  <hr>
  <button onclick="openEditor('day')">ערוך את כל כפתורי הימים</button>
  <button onclick="openEditor('slot')">ערוך את כל כפתורי השעות</button>

  <script>
    const settings = {{ design_settings | tojson }};
    function openEditor(type){
      const data = type === 'day'
        ? {
            color: settings.day_button_color,
            textColor: settings.day_button_text_color,
            size: settings.day_button_text_size,
            radius: settings.day_button_shape,
            font: settings.day_button_font_family
          }
        : {
            color: settings.slot_button_color,
            textColor: settings.slot_button_text_color,
            size: settings.slot_button_text_size,
            radius: settings.slot_button_shape,
            font: settings.slot_button_font_family
          };

      const newColor = prompt("בחר צבע רקע:", data.color);
      const newTextColor = prompt("בחר צבע טקסט:", data.textColor);
      const newSize = prompt("בחר גודל טקסט (px):", data.size);
      const newRadius = prompt("בחר רדיוס פינות (px):", data.radius);
      const newFont = prompt("בחר משפחת גופן:", data.font);

      document.querySelectorAll(type === 'day' ? '.day-button' : '.slot-button')
        .forEach(btn=>{
          btn.style.background = newColor;
          btn.style.color = newTextColor;
          btn.style.fontSize = newSize;
          btn.style.borderRadius = newRadius;
          btn.style.fontFamily = newFont;
        });

      // כאן אפשר לשלוח AJAX לעדכון ה־DB
    }
  </script>
</body>
</html>
